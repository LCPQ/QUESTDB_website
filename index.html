<!DOCTYPE html>
<html>
  <head>
    <script src="scripts/data.js" type="text/javascript"></script>
    <script src="scripts/getFullDataPath.js" type="text/javascript"></script>
    <script src="https://cdn.rawgit.com/larsgw/citation.js/archive/citation.js/citation-0.4.0-9.js" type="text/javascript"></script>
    <script>
      function update_file(filename) {
        file=filename+'.dat'
        lnk_file.setAttribute('href',getFullDataPath(file));
        lnk_file=document.getElementById('lnk_file');
        data.load(file,onApplyData);
      }
      function onApplyData(dat) {
        lnk_doi=document.getElementById('lnk_doi');
        doiurl=dat.doi.url;
        lnk_doi.setAttribute('href',doiurl);
        const Cite = require('citation-js');
        let publi = new Cite(dat.doi.string)
        lnk_doi.innerHTML=publi.format('citation');
      }
    </script>
    <script>
      window.onload=function() {
        var inp = document.getElementById("inp_filename");
        inp.addEventListener("keydown", function (e) {
          if (e.keyCode === 13) {  //checks whether the pressed key is "Enter"
            update_file(inp.value);
          }
        }
        );
      }
    </script>
  </head>
  <body>
    <label>Write a data file name without extension<br/>
      <input type="text" id='inp_filename'></input>
    </label><br/>
    <a target="_blank" id='lnk_doi'>Go to paper</a>
    <a target="_blank" id='lnk_file'>Go to file</a>
  </body>
</html>